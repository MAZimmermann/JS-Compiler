<!DOCTYPE HTML>
<html>
<head>
    <title>MAZ Compiler</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" href="Skeleton/css/skeleton.css" />
    <link rel="stylesheet" href="Skeleton/css/normalize.css" />
</head>
<body onload="init();">

    <div class="container">

        <section class="header">
            <h1 class="title">MAZ's Compiler Project</h1>
            <input class="button-primary" type="button" value="Compile" onClick="compile();">
        </section>

        <br>

        <div class="row">
            <div class="six columns" height="250px">
                <textarea id="taInput" class="u-full-width" placeholder="Enter Source Code"></textarea>
            </div>

            <div class="six columns" height="250px">
                <textarea id="taOutput" class="u-full-width" placeholder=""></textarea>
            </div>
        </div>

    </div>

    <script type="text/javascript" src="Scripts/tokens.js"></script>
    <script type="text/javascript" src="Scripts/utils.js"></script>
    <script type="text/javascript" src="Scripts/lexer.js"></script>
    <script type="text/javascript">
        // Declare and define global variables
        var tokens = "";
        var tokenIndex = 0;
        var currentToken = "";
        var errorCount = 0;
        var EOF = "$";

        // Initialisation function triggered onload
        function init() {
            // Start with blank taOutput
            document.getElementById("taOutput").value = "";
            // Set initial values for global variables
            tokens = "";
            tokenIndex = 0;
            currentToken = ' ';
            errorCount = 0;
        }

        function compile() {
            init();
            // Get tokens from the lexer
            tokens = lex();
            tokens = tokens.filter(checkUndefined);
            document.getElementById("taOutput").value += "\n";
            if (tokens.length != 0) {
                for (var i = 0; i < tokens.length; i++) {
                    /*alert(tokens[i].kind.name);*/
                    /*document.getElementById("taOutput").value += tokens[i].kind.name += "\n";*/
                }
            } else {
                document.getElementById("taOutput").value = "";
            }
            // Parser to be built in project 2
            // parse();
        }

    </script>

</body>
</html>
